<!-- if the intake is empty provide options for sending -->
<div *ngIf="matter.matter_intake === null">
  <!-- This example requires Tailwind CSS v2.0+ -->
  <div class="bg-gray-50">
    <div
      class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between"
    >
      <h2 class="text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl">
        <span class="block">Estate Planning Intake Coming Soon</span>
      </h2>
      <p>
        The estate planning intake will ask your clients to provide personal information, family
        members, income, assets, real estate.
      </p>
      <div class="mt-8 flex lg:mt-0 lg:flex-shrink-0">
        <div class="inline-flex rounded-md shadow">
          <!-- <a
            (click)="sendIntake()"
            class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700"
          >
            Send
          </a> -->
        </div>
      </div>
    </div>
  </div>
</div>

<!-- WORKFLOW DIV -->
<div *ngIf="matter.matter_intake" class="m-5">
  <!-- This example requires Tailwind CSS v2.0+ -->
  <!--
  This example requires updating your template:

  ```
  <html class="h-full bg-gray-100">
  <body class="h-full">
  ```
-->
  <div class="min-h-full">
    <nav class="bg-indigo-600">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center">
            <div class="flex-shrink-0">
              
            </div>
            <div class="hidden md:block">
              <div class="ml-10 flex items-baseline space-x-4">
                <!-- Current: "bg-indigo-700 text-white", Default: "text-white hover:bg-indigo-500 hover:bg-opacity-75" -->
                <a
                  (click)="setState('personal info')"
                  class="text-white px-3 py-2 rounded-md text-sm font-medium"
                  [ngClass]="
                    state === 'personal info'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  aria-current="page"
                  >Personal Information</a
                >

                <a
                  (click)="setState('income')"
                  [ngClass]="
                    state === 'income'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Income</a
                >

                <a
                  (click)="setState('asset')"
                  [ngClass]="
                    state === 'asset'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Assets</a
                >

                <a
                  (click)="setState('real estate')"
                  [ngClass]="
                    state === 'real estate'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Real Estate</a
                >
                <a
                  (click)="setState('executors')"
                  [ngClass]="
                    state === 'executors'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Executors</a
                >
                <a
                  (click)="setState('trustees')"
                  [ngClass]="
                    state === 'trustees'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Trustees</a
                >

                <a
                  (click)="setState('goc')"
                  [ngClass]="
                    state === 'goc'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Guardians of Children</a
                >

                <a
                  (click)="setState('dpoa')"
                  [ngClass]="
                    state === 'dpoa'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Durable Power of Attorney</a
                >

                <a
                  (click)="setState('mpoa')"
                  [ngClass]="
                    state === 'mpoa'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Medical Power of Attorney</a
                >

 <a
                  (click)="setState('estate planning')"
                  [ngClass]="
                    state === 'estate planning'
                      ? 'bg-indigo-700 text-white'
                      : 'text-white hover:bg-indigo-500 hover:bg-opacity-75'
                  "
                  class="text-white hover:bg-indigo-500 hover:bg-opacity-75 px-3 py-2 rounded-md text-sm font-medium"
                  >Estate Planning</a
                >
              </div>
            </div>
          </div>
          <div class="hidden md:block"></div>
        </div>
      </div>
    </nav>

    <header class="bg-white shadow">
      <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
        <!-- This example requires Tailwind CSS v2.0+ -->
        <nav aria-label="Progress">
          <ol role="list" class="space-y-4 md:flex md:space-y-0 md:space-x-8">
            <li class="md:flex-1">
              <!-- Current Step -->
              <a
                [ngClass]="
                  matter.matter_intake.status === 'sent' ? 'border-indigo-600' : 'border-gray-200'
                "
                class="pl-4 py-2 flex flex-col border-l-4 md:pl-0 md:pt-4 md:pb-0 md:border-l-0 md:border-t-4"
                aria-current="step"
              >
                <span
                  [ngClass]="
                    matter.matter_intake.status === 'sent' ? 'text-indigo-600' : 'text-gray-200'
                  "
                  class="text-xs font-semibold tracking-wide uppercase"
                  >Step 1</span
                >
                <span class="text-sm font-medium">Intake Sent</span>
              </a>
            </li>

            <li class="md:flex-1">
              <!-- Current Step -->
              <a
                [ngClass]="
                  matter.matter_intake.status === 'in progress'
                    ? 'border-indigo-600'
                    : 'border-gray-200'
                "
                class="pl-4 py-2 flex flex-col border-l-4 md:pl-0 md:pt-4 md:pb-0 md:border-l-0 md:border-t-4"
                aria-current="step"
              >
                <span
                  [ngClass]="
                    matter.matter_intake.status === 'in progress'
                      ? 'text-indigo-600'
                      : 'text-gray-200'
                  "
                  class="text-xs font-semibold tracking-wide uppercase"
                  >Step 2</span
                >
                <span class="text-sm font-medium">Intake In Progress</span>
              </a>
            </li>

            <li class="md:flex-1">
              <!-- Current Step -->
              <a
                [ngClass]="
                  matter.matter_intake.status === 'review' ? 'border-indigo-600' : 'border-gray-200'
                "
                class="pl-4 py-2 flex flex-col border-l-4 md:pl-0 md:pt-4 md:pb-0 md:border-l-0 md:border-t-4"
                aria-current="step"
              >
                <span
                  [ngClass]="
                    matter.matter_intake.status === 'review' ? 'text-indigo-600' : 'text-gray-200'
                  "
                  class="text-xs font-semibold tracking-wide uppercase"
                  >Step 3</span
                >
                <span class="text-sm font-medium">Review Required</span>
              </a>
            </li>
          </ol>
        </nav>
      </div>
    </header>
    <main>
      <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <!-- Replace with your content -->
        <div class="px-4 py-4 sm:px-0">
          <app-firm-personal-information
            *ngIf="state === 'personal info'"
            [matter]="matter"
            (continue)="setState('income')"
          ></app-firm-personal-information>
        </div>
        <!-- INCOME INFORMATION -->

        <app-income
          *ngIf="state === 'income'"
          [matter]="matter"
          (back)="back()"
          (continue)="setState('asset')"
        ></app-income>
        <!-- -------------------------- -->

        <!-- ASSET INFORMATION -->

        <app-assets
          *ngIf="state === 'asset'"
          [matter]="matter"
          (back)="back()"
          (continue)="setState('real estate')"
        ></app-assets>
        <!-- -------------------------- -->

        <!-- REAL ESTATE INFORMATION -->
        <app-real-estate
          *ngIf="state === 'real estate'"
          [matter]="matter"
          (back)="back()"
          (continue)="setState('executors')"
        ></app-real-estate>

        <app-appointees
          *ngIf="state === 'executors'"
          [appointeeType]="'executor'"
          [matter]="matter"
          (back)="back()"
          (continue)="setState('trustees')"
        ></app-appointees>
        <app-appointees
          *ngIf="state === 'trustees'"
          [appointeeType]="'trustee'"
          [matter]="matter"
          (back)="back()"
          (continue)="setState('goc')"
        ></app-appointees>
        <app-appointees
          *ngIf="state === 'goc'"
          [appointeeType]="'guardian of children'"
          [matter]="matter"
          (back)="back()"
          (continue)="setState('dpoa')"
        ></app-appointees>
        <app-appointees
          *ngIf="state === 'dpoa'"
          [appointeeType]="'durable power of attorney'"
          [matter]="matter"
          (back)="back()"
          (continue)="setState('mpoa')"
        ></app-appointees>
        <app-appointees
          *ngIf="state === 'mpoa'"
          [appointeeType]="'medical power of attorney'"
          [matter]="matter"
          (back)="back()"
        ></app-appointees>

        <app-estate-planning-form
          *ngIf="state === 'estate planning'"
          [matter]="matter"
          (back)="back()"
        ></app-estate-planning-form>




        <!-- /End replace -->
      </div>
    </main>
  </div>
</div>
