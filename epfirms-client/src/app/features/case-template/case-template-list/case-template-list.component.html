<div class="w-full text-right">
    <button (click)="openAddTemplateDialog()" type="button" class="inline-flex items-center flex-end px-3 py-2 border border-transparent shadow-sm text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
        <svg class="-ml-0.5 mr-2 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
        </svg>
        Create template
    </button>
</div>

<div class="-ml-4">
    <ep-accordion multi togglePosition="before">
        <ep-accordion-item *ngFor="let group of templateGroups" [expanded]="group.templates.length > 0">
            <ep-accordion-item-header>
                <ep-accordion-item-title>{{group.name | titlecase}}</ep-accordion-item-title>
                <ep-accordion-item-description>
                    <span class="px-2 py-0.5 rounded-full text-xs font-medium" [ngClass]="{
                        'bg-blue-100 text-sky-800': group.templates.length > 0,
                        'bg-gray-100 text-gray-800': group.templates.length <= 0
                    }">{{group.templates.length}}</span>
                </ep-accordion-item-description>
            </ep-accordion-item-header>
            <ul role="list" class="grid grid-cols-1 gap-4 sm:gap-6 sm:grid-cols-2 xl:grid-cols-4">
                <app-case-template-list-item class="col-span-1" *ngFor="let template of group.templates" [template]="template" (editTemplate)="editTemplateDialog(template)" (deleteTemplate)="deleteTemplate(template)"></app-case-template-list-item>
            </ul>
        </ep-accordion-item>
    </ep-accordion>
</div>
