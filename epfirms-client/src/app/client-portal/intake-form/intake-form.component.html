<div class="px-4 sm:px-0 inline-flex items-center">
  <button type="button" class="group -ml-1 bg-white p-1 rounded-md flex items-center focus:outline-none focus:ring-2 focus:ring-blue-500" (click)="navigateBack()">
    <span class="rounded-full flex items-center justify-center text-gray-400 group-hover:text-gray-500">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
      </svg>
    </span>
  </button>

  <h2 class="ml-2 text-lg font-medium text-gray-900">Intake Form</h2>
</div>
<div class="flex flex-col sm:flex-row" *ngIf="status !== 'complete'">
  <div class="py-12 px-4 sm:px-6 lg:px-8">
    <nav class="flex justify-start sm:justify-center" aria-label="Progress">
      <ol role="list" class="space-y-6">
        <li *ngFor="let step of steps; let index = index;">
          <!-- Complete Step -->
          <a (click)="currentStepIndex = index" class="group">
            <span class="flex items-start">
              <span class="flex-shrink-0 relative h-5 w-5 flex items-center justify-center" *ngIf="step.complete">
                <!-- Heroicon name: solid/check-circle -->
                <svg  class="h-full w-full text-indigo-600 group-hover:text-indigo-800" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
              </span>

              <span class="flex-shrink-0 h-5 w-5 relative flex items-center justify-center" aria-hidden="true" *ngIf="index === currentStepIndex && !step.complete">
                <span class="absolute h-4 w-4 rounded-full bg-indigo-200"></span>
                <span class="relative block w-2 h-2 bg-indigo-600 rounded-full"></span>
              </span>

              <div class="flex-shrink-0 h-5 w-5 relative flex items-center justify-center" aria-hidden="true" *ngIf="index !== currentStepIndex && !step.complete">
                <div class="h-2 w-2 bg-gray-300 rounded-full group-hover:bg-gray-400"></div>
              </div>
              <span class="ml-3 text-sm font-medium text-gray-500 group-hover:text-gray-900">{{step.title | titlecase}}</span>
            </span>
          </a>
        </li>
      </ol>
    </nav>
  </div>

  <div class="mt-5 mb-10 space-y-6 w-full">
    <ng-container *ngIf="steps[currentStepIndex].title === 'Basic Information'">
    <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Client Information</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- Use a permanent address where you can receive mail. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <form [formGroup]="clientForm">
              <div class="grid grid-cols-6 gap-6">
                <div class="col-span-6 sm:col-span-3">
                  <label for="first-name" class="block text-sm font-medium text-gray-700 required">First name</label>
                  <input required formControlName="first_name" type="text" name="first-name" id="first-name" autocomplete="given-name" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>
    
                <div class="col-span-6 sm:col-span-3">
                  <label for="last-name" class="block text-sm font-medium text-gray-700 required">Last name</label>
                  <input required formControlName="last_name"type="text" name="last-name" id="last-name" autocomplete="family-name" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>

                <div class="col-span-6 sm:col-span-4">
                    <label for="dob" class="block text-sm font-medium text-gray-700 required">Date of birth</label>
                    <ngx-datepicker formControlName="dob" [options]="options" name="dob" id="dob"></ngx-datepicker>
                </div>

                <div class="col-span-6 sm:col-span-3">
                    <label for="last-name" class="block text-sm font-medium text-gray-700 required">Phone number</label>
                    <input required formControlName="phone" type="text" name="last-name" id="last-name" autocomplete="family-name" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>

                <!-- class="mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" -->
                <div class="col-span-6">
                  <label for="street-address" class="block text-sm font-medium text-gray-700 required">Street address</label>
                  <input required formControlName="address" type="text" name="street-address" id="street-address" autocomplete="street-address" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>
    
                <div class="col-span-6 sm:col-span-6 lg:col-span-2">
                  <label for="city" class="block text-sm font-medium text-gray-700 required">City</label>
                  <input required formControlName="city" type="text" name="city" id="city" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>
    
                <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                  <label for="state" class="block text-sm font-medium text-gray-700 required">State / Province</label>
                  <input required formControlName="state" type="text" name="state" id="state" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>
    
                <div class="col-span-6 sm:col-span-3 lg:col-span-2">
                  <label for="postal-code" class="block text-sm font-medium text-gray-700 required">ZIP / Postal</label>
                  <input required formControlName="zip" type="text" name="postal-code" id="postal-code" autocomplete="postal-code" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Spouse Information</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- Use a permanent address where you can receive mail. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <form [formGroup]="spouseForm">
              <div class="grid grid-cols-6 gap-6">
                <div class="col-span-6 sm:col-span-3">
                  <label for="first-name" class="block text-sm font-medium text-gray-700 required">First name</label>
                  <input  required formControlName="first_name" type="text" name="first-name" id="first-name" autocomplete="given-name" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>
    
                <div class="col-span-6 sm:col-span-3">
                  <label for="last-name" class="block text-sm font-medium text-gray-700 required">Last name</label>
                  <input required formControlName="last_name"type="text" name="last-name" id="last-name" autocomplete="family-name" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>

                <div class="col-span-6 sm:col-span-4">
                    <label for="country" class="block text-sm font-medium text-gray-700">Date of birth</label>
                    <ngx-datepicker formControlName="dob" [options]="options"></ngx-datepicker>
                </div>

                <div class="col-span-6 sm:col-span-3 z-10">
                  <label for="email-address" class="block text-sm font-medium text-gray-700">Email address</label>
                  <input formControlName="email" type="text" name="email-address" id="email-address" autocomplete="email" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>

                <div class="col-span-6 sm:col-span-3">
                    <label for="last-name" class="block text-sm font-medium text-gray-700">Phone number</label>
                    <input formControlName="phone" type="text" name="last-name" id="last-name" autocomplete="family-name" class="mt-1 focus:ring-blue-500 focus:border-blue-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md">
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

  </ng-container>
  <ng-container *ngIf="steps[currentStepIndex].title === 'Family Members'">
  <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
    <div class="md:grid md:grid-cols-3 md:gap-6">
      <div class="md:col-span-1">
        <h3 class="text-lg font-medium leading-6 text-gray-900">Children</h3>
        <p class="mt-1 text-sm text-gray-500">
          <!-- This information will be displayed publicly so be careful what you share. -->
        </p>
      </div>
      <div class="mt-5 md:mt-0 md:col-span-2">
        <form class="space-y-6" action="#" method="POST">
          <div>
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!familyMembers.child.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No children added</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a child</p>
                  </div>
                </div>

                <div class="relative flex items-start py-4" *ngFor="let child of familyMembers.child">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{child.first_name | titlecase}} {{child.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="child.address">{{child.address}}, {{child.city}}, {{child.state}} {{child.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    {{child.phone}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addFamilyMember()">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add Family Member
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</ng-container>

<ng-container *ngIf="steps[currentStepIndex].title === 'Assets'">
    <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Accounts</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!assets.money_account.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No accounts</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a checking, savings, or investment account</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let account of assets.money_account">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{account.type | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500">{{account.institution}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    {{account.balance | currency}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addMoneyAccount()">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add Account
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Real Estate</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!assets.real_estate.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No real estate</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a property</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let property of assets.real_estate">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{property.full_address | titlecase}}</label>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Equity: {{property.total_value - property.loan_amount | currency}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addRealEstate()">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add Property
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Vehicles</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!assets.vehicle.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No vehicles</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a vehicle</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let vehicle of assets.vehicle">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{vehicle.vehicle_type | titlecase}}</label>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Equity: {{vehicle.total_value - vehicle.loan_amount | currency}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addVehicle()">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add Vehicle
            </button>
          </div>
        </div>
      </div>
    </ng-container>

    <ng-container *ngIf="steps[currentStepIndex].title === 'Appointees'">
      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Executors</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!appointees.executor.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No executors</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a executor</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let appointee of appointees.executor">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{appointee.first_name + ' ' + appointee.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="appointee.address">{{appointee.address}}, {{appointee.city}}, {{appointee.state}} {{appointee.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Rank: {{appointee.appointee.executor}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addAppointee('executor')">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add appointee
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Trustees</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!appointees.trustee.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No trustees</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a trustee</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let appointee of appointees.trustee">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{appointee.first_name + ' ' + appointee.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="appointee.address">{{appointee.address}}, {{appointee.city}}, {{appointee.state}} {{appointee.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Rank: {{appointee.appointee.trustee}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addAppointee('trustee')">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add trustee
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Guardian of person</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!appointees.gop.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No guardians of person</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a guardian of person</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let appointee of appointees.gop">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{appointee.first_name + ' ' + appointee.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="appointee.address">{{appointee.address}}, {{appointee.city}}, {{appointee.state}} {{appointee.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Rank: {{appointee.appointee.gop}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addAppointee('gop')">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add guardian of person
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Guardian of estate</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!appointees.goe.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No guardian of estate</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a guardian of estate</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let appointee of appointees.goe">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{appointee.first_name + ' ' + appointee.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="appointee.address">{{appointee.address}}, {{appointee.city}}, {{appointee.state}} {{appointee.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Rank: {{appointee.appointee.goe}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addAppointee('goe')">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add guardian of estate
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Durable power of attorney</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!appointees.dpoa.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No durable power of attorney</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a durable power of attorney</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let appointee of appointees.dpoa">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{appointee.first_name + ' ' + appointee.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="appointee.address">{{appointee.address}}, {{appointee.city}}, {{appointee.state}} {{appointee.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Rank: {{appointee.appointee.dpoa}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addAppointee('dpoa')">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add durable power of attorney
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Medical power of attorney</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!appointees.mpoa.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No medical power of attorney</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a medical power of attorney</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let appointee of appointees.mpoa">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{appointee.first_name + ' ' + appointee.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="appointee.address">{{appointee.address}}, {{appointee.city}}, {{appointee.state}} {{appointee.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Rank: {{appointee.appointee.mpoa}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addAppointee('mpoa')">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add medical power of attorney
            </button>
          </div>
        </div>
      </div>

      <div class="bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
        <div class="md:grid md:grid-cols-3 md:gap-6">
          <div class="md:col-span-1">
            <h3 class="text-lg font-medium leading-6 text-gray-900">Guardian of minor child</h3>
            <p class="mt-1 text-sm text-gray-500">
              <!-- This information will be displayed publicly so be careful what you share. -->
            </p>
          </div>
          <div class="mt-5 md:mt-0 md:col-span-2">
            <fieldset class="mb-4 border-t border-b border-gray-200">
              <div class="divide-y divide-gray-200">
                <div class="relative flex items-start py-4" *ngIf="!appointees.gomc.length">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">No guardian of minor child</label>
                    <p id="comments-description" class="text-gray-500">Get started by adding a guardian of minor child</p>
                  </div>
                  <!-- <div class="ml-3 flex items-center h-5">
                    <input id="comments" aria-describedby="comments-description" name="comments" type="checkbox" class="focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded">
                  </div> -->
                </div>

                <div class="relative flex items-start py-4" *ngFor="let appointee of appointees.gomc">
                  <div class="min-w-0 flex-1 text-sm">
                    <label for="comments" class="font-medium text-gray-700">{{appointee.first_name + ' ' + appointee.last_name | titlecase}}</label>
                    <p id="comments-description" class="text-gray-500" *ngIf="appointee.address">{{appointee.address}}, {{appointee.city}}, {{appointee.state}} {{appointee.zip}}</p>
                  </div>
                  <div class="ml-3 flex items-center h-5 text-sm font-semibold">
                    Rank: {{appointee.appointee.gomc}}
                  </div>
                </div>
              </div>
            </fieldset>

            <button class="button-white-icon-sm" (click)="addAppointee('gomc')">
              <svg
                class="icon"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                  clip-rule="evenodd"
                />
              </svg>
              Add guardian of minor child
            </button>
          </div>
        </div>
      </div>
    </ng-container>

    <div class="flex justify-end">
      <button (click)="prevStep()" type="button" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50" [disabled]="currentStepIndex === 0">
        Previous
      </button>
      <button *ngIf="currentStepIndex < 3" (click)="nextStep()" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50" [disabled]="!(clientForm.valid && spouseForm.valid) || currentStepIndex === steps.length - 1">
         {{'Next: ' + steps[currentStepIndex + 1].title}}
      </button>

      <button *ngIf="currentStepIndex >= 3" (click)="submitIntake()" type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50" [disabled]="!(clientForm.valid && spouseForm.valid)">
        Submit
     </button>
    </div>
</div>
</div>

<div class="flex flex-col sm:flex-row" *ngIf="status === 'complete'">
  <div class="mt-5 mb-10 space-y-6 w-full">
    This intake form has been completed.
</div>
</div>